/*
 VigLink Spotlight -- http://www.viglink.com

 Copyright (c) 2014 VigLink. Rights reserved and patent(s) pending.

 Includes:

 mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
*/
(function(a,f){var u={};f(u);a.Mustache=u})(window.vglnk,function(a){function f(a){return"function"===typeof a}function u(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(a){this.tail=this.string=a;this.pos=0}function h(a,b){this.view=null==a?{}:a;this.parent=b;this._cache={".":this.view}}function n(){this.clearCache()}function b(A,z,v,c){function e(a){return z.render(a,v)}for(var d="",k,g,r=0,p=A.length;r<p;++r)switch(k=A[r],g=k[1],k[0]){case "#":g=v.lookup(g);if("object"===typeof g||
"string"===typeof g)if(t(g))for(var m=0,q=g.length;m<q;++m)d+=b(k[4],z,v.push(g[m]),c);else g&&(d+=b(k[4],z,v.push(g),c));else f(g)?(k=null==c?null:c.slice(k[3],k[5]),g=g.call(v.view,k,e),null!=g&&(d+=g)):g&&(d+=b(k[4],z,v,c));break;case "^":g=v.lookup(g);if(!g||t(g)&&0===g.length)d+=b(k[4],z,v,c);break;case ">":g=z.getPartial(g);f(g)&&(d+=g(v));break;case "&":g=v.lookup(g);null!=g&&(d+=g);break;case "name":g=v.lookup(g);null!=g&&(d+=a.escape(g));break;case "text":d+=g}return d}function e(a){return[RegExp(u(a[0])+
"\\s*"),RegExp("\\s*"+u(a[1]))]}var c=/\s*/,d=/\s+/,B=/\S/,q=/\s*=/,C=/\s*\}/,D=/#|\^|\/|>|\{|&|=|!/,E=RegExp.prototype.test,r=Object.prototype.toString,t=Array.isArray||function(a){return"[object Array]"===r.call(a)},k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};s.prototype.eos=function(){return""===this.tail};s.prototype.scan=function(a){return(a=this.tail.match(a))&&0===a.index?(a=a[0],this.tail=this.tail.substring(a.length),this.pos+=a.length,a):""};s.prototype.scanUntil=
function(a){a=this.tail.search(a);var b;switch(a){case -1:b=this.tail;this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,a),this.tail=this.tail.substring(a)}this.pos+=b.length;return b};h.make=function(a){return a instanceof h?a:new h(a)};h.prototype.push=function(a){return new h(a,this)};h.prototype.lookup=function(a){var b;if(a in this._cache)b=this._cache[a];else{for(var c=this;c;){if(0<a.indexOf(".")){b=c.view;for(var d=a.split("."),e=0;null!=b&&e<d.length;)b=b[d[e++]]}else b=
c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}f(b)&&(b=b.call(this.view));return b};n.prototype.clearCache=function(){this._cache={};this._partialCache={}};n.prototype.compile=function(b,c){var d=this._cache[b];d||(d=a.parse(b,c),d=this._cache[b]=this.compileTokens(d,b));return d};n.prototype.compilePartial=function(a,b,c){b=this.compile(b,c);return this._partialCache[a]=b};n.prototype.getPartial=function(a){!(a in this._partialCache)&&this._loadPartial&&this.compilePartial(a,this._loadPartial(a));
return this._partialCache[a]};n.prototype.compileTokens=function(a,c){var d=this;return function(e,k){if(k)if(f(k))d._loadPartial=k;else for(var r in k)d.compilePartial(r,k[r]);return b(a,d,h.make(e),c)}};n.prototype.render=function(a,b,c){return this.compile(a)(b,c)};a.name="mustache.js";a.version="0.7.3";a.tags=["{{","}}"];a.Scanner=s;a.Context=h;a.Writer=n;a.parse=function(b,k){b=b||"";k=k||a.tags;"string"===typeof k&&(k=k.split(d));if(2!==k.length)throw Error("Invalid tags: "+k.join(", "));for(var r=
e(k),l=new s(b),p=[],t=[],f=[],g=!1,n=!1,h,m,x,y;!l.eos();){h=l.pos;if(x=l.scanUntil(r[0])){y=0;for(var F=x.length;y<F;++y)if(m=x.charAt(y),E.call(B,m)?n=!0:f.push(t.length),t.push(["text",m,h,h+1]),h+=1,"\n"==m){if(g&&!n)for(;f.length;)delete t[f.pop()];else f=[];n=g=!1}}if(!l.scan(r[0]))break;g=!0;m=l.scan(D)||"name";l.scan(c);"="===m?(x=l.scanUntil(q),l.scan(q),l.scanUntil(r[1])):"{"===m?(x=l.scanUntil(RegExp("\\s*"+u("}"+k[1]))),l.scan(C),l.scanUntil(r[1]),m="&"):x=l.scanUntil(r[1]);if(!l.scan(r[1]))throw Error("Unclosed tag at "+
l.pos);y=[m,x,h,l.pos];t.push(y);if("#"===m||"^"===m)p.push(y);else if("/"===m){m=p.pop();if(!m)throw Error('Unopened section "'+x+'" at '+h);if(m[1]!==x)throw Error('Unclosed section "'+m[1]+'" at '+h);}else if("name"===m||"{"===m||"&"===m)n=!0;else if("="===m){k=x.split(d);if(2!==k.length)throw Error("Invalid tags at "+h+": "+k.join(", "));r=e(k)}}if(m=p.pop())throw Error('Unclosed section "'+m[1]+'" at '+l.pos);for(var r=[],w,p=0,f=t.length;p<f;++p)if(l=t[p])"text"===l[0]&&w&&"text"===w[0]?(w[1]+=
l[1],w[3]=l[3]):(w=l,r.push(l));w=t=[];l=[];f=0;for(g=r.length;f<g;++f)switch(p=r[f],p[0]){case "#":case "^":l.push(p);w.push(p);w=p[4]=[];break;case "/":l.pop()[5]=p[2];w=0<l.length?l[l.length-1][4]:t;break;default:w.push(p)}return t};a.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return k[a]})};var p=new n;a.clearCache=function(){return p.clearCache()};a.compile=function(a,b){return p.compile(a,b)};a.compilePartial=function(a,b,c){return p.compilePartial(a,b,c)};a.compileTokens=
function(a,b){return p.compileTokens(a,b)};a.render=function(a,b,c){return p.render(a,b,c)};a.to_html=function(b,c,d,k){b=a.render(b,c,d);if(f(k))k(b);else return b}});
(function(){var a,f,u,s,h,n=window.vglnk.Mustache;a={outerHeight:function(b){var e,c=0,d=b?a.styles(b,"height","marginBottom","marginTop"):{};for(e in d)if("auto"===d[e])return b.offsetHeight;c+=parseInt(d.height);c+=parseInt(d.marginTop);return c+=parseInt(d.marginBottom)},outerWidth:function(b){var e,c=0,d=b?a.styles(b,"width","marginRight","marginLeft"):{};for(e in d)if("auto"===d[e])return b.offsetWidth;c+=parseInt(d.width);c+=parseInt(d.marginRight);return c+=parseInt(d.marginLeft)},styles:function(){var b,
e,c={},d={position:"absolute",visibility:"hidden",display:"block"},f=/([A-Z])/g,q=/^-?\d+(?:px)?$/i,h=/^-?\d/,n=function(){document.defaultView&&document.defaultView.getComputedStyle&&(b=function(a,b){var c,d;b=b.replace(f,"-$1").toLowerCase();if(d=a.ownerDocument.defaultView){if(d=d.getComputedStyle(a,null))c=d.getPropertyValue(b);return c}});document.documentElement.currentStyle&&(e=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;!q.test(e)&&h.test(e)&&(c=f.left,d=a.runtimeStyle.left,
a.runtimeStyle.left=a.currentStyle.left,f.left="fontSize"===b?"1em":e||0,e=f.pixelLeft+"px",f.left=c,a.runtimeStyle.left=d);return""===e?"auto":e});return e||b}(),s=function(a,b,c){var d,e={};for(d in b)e[d]=a.style[d],a.style[d]=b[d];c.call(a);for(d in b)a.style[d]=e[d]};c.height=c.width=function(a,c){var e;0!==a.offsetWidth?e="width"===c?a.offsetWidth:a.offsetHeight:s(a,d,function(){e="width"===c?a.offsetWidth:a.offsetHeight});return 0>=e&&(e=n(a,c,c),"0px"===e&&b&&(e=b(a,c,c)),null!=e)?""===e||
"auto"===e?"0px":e:0>e||null==e?(e=a.style[c],""===e||"auto"===e?"0px":e):"string"===typeof e?e:e+"px"};return function(b){var d,e,f,q,h={},s=a.toArray(arguments).slice(1);d=0;for(e=s.length;d<e;d++)f=s[d],q=f in c?c[f](b,f):n(b,f),h[f]=q;return h}}(),styleSum:function(){var b=0,e=this.styles.apply(this,arguments);a.each(e,function(a){b+=parseInt(a,10)||0});return b}};s={current:null,iframe_doc:null,iframe_el:null,per_page:null,products:[],wrapper_el:null,TEMPLATES:{css:'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1em}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:\'\';content:none}table{border-collapse:collapse;border-spacing:0}body.d4 .el-ul{margin:0}body.d4 .el-ul .el-li{-webkit-border-radius:4px;-khtml-border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;border-radius:4px;background-color:#fff;border:1px solid #ccc;display:block;height:2.75em;width:2.75em;overflow:hidden;position:relative}body.d4 .el-ul .el-li .ribbon{display:block;height:0.88em;overflow:hidden;position:absolute;top:0;right:0;width:0.88em;z-index:100}body.d4 .el-ul .el-li .ribbon>div{-webkit-transform-origin:0.12em 50% 0;-khtml-transform-origin:0.12em 50% 0;-moz-transform-origin:0.12em 50% 0;-o-transform-origin:0.12em 50% 0;transform-origin:0.12em 50% 0;-webkit-transform:rotate(45deg);-khtml-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476,sizingMethod=\'auto expand\');-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\'auto expand\', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476)";background-color:#369;color:#fff;font-weight:bold;font-size:0.10em;text-transform:uppercase;line-height:2.4em;text-align:center;position:absolute;top:-3em;width:14.75em}body.d4 .el-ul .el-li .image{height:2.75em;width:2.75em;position:absolute;top:0;left:0;background-position:top center;background-repeat:no-repeat;background-size:contain}body.d4 .el-ul .el-li .details{position:absolute;background-color:#ececec;bottom:0;left:0;right:0;text-align:right;padding:0.1em 0.2em 0.11em}body.d4 .el-ul .el-li .details .name{font-weight:normal;font-size:0.16em;color:#4d4d4f;height:auto;line-height:1.25em;min-height:1.25em;max-height:1.25em;margin-bottom:0.1em;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap}body.d4 .el-ul .el-li .details .merchant{color:#747474;float:left;font-size:0.12em;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:1.75em}body.d4 .el-ul .el-li .details .price{font-size:0.16em}body.d4 .el-ul .el-li:hover .details .name{max-height:3.75em;white-space:normal}body.d4.paginated .el-nav>*{-webkit-border-radius:4px;-khtml-border-radius:4px;-moz-border-radius:4px;-o-border-radius:4px;border-radius:4px;position:absolute;top:10px;bottom:10px;width:0.4em;z-index:999}body.d4.paginated .el-nav>*>*{border:0.1em solid transparent;display:block;position:absolute;top:50%;margin-top:-0.1em;left:0.15em;height:0;width:0}body.d4.paginated .el-nav>*,body.d4.paginated .el-nav>*.disabled:hover{background-color:#e4e4e4}body.d4.paginated .el-nav>*:hover{background-color:#d4d4d4}body.d4.paginated .el-nav>*.next{right:0}body.d4.paginated .el-nav>*.next>*{border-left-color:#fff;border-right-width:0}body.d4.paginated .el-nav>*.previous{left:0}body.d4.paginated .el-nav>*.previous>*{border-right-color:#fff;border-left-width:0}body.d4.paginated .el-ul{margin:0 0.5em}body{font-family:"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;font-size:{{{scale}}}px}body a,body a *{cursor:pointer;text-decoration:none}body a:link,body a:active,body a:visited{color:#4d4d4f}body a#logo{background:transparent none no-repeat top left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAATCAYAAAAH3YpvAAAE40lEQVR4Ae3XeWwUZRiA8Q+BXQIG2nKfCSkKRg6bKS0RqBUhggT5Q4l4kkhACRiqbBGlcsZwhaMtRQ7DEVsiKEthT8zuqgWRcBiMWjUIaqCAAaEIIvTY1yfmwwzT2XU3ghB1k99msv/M5Mlm3vdT1z5SZHQ7u/bxqnJPQMq9wfodHn98+CDgjy5+JyCd8kOrof6L/ryQ4gGbpPA+ObSpQN73RYRAcXl9AXGXe8SYFZS208I1nfNDuVD/JqNGjW6LArjQAsrqjy/iDUO9FGfJr4UDZXvZein3h2LG2+kNStC7U8YtcUvqy2HhZoKDaGZ5gN4oQykyoWyMQCkK0Q4l8KAXVIIaYT5K8RCUjQz4sALNoBLQF4I6dLQNSDgnPoMAGfJV4ROyfrNbPL5dDeP5guLzeGVByUbp4gpKR5cOCORbArZBNQQboGxUQLBZBxft9SQDfgPBVCgbiyDaXVAJuBdRnEX7WAGXQzRkS7QoU7Ytf7WmZNP233Z4AzWEA7jeWb6jZv2aty4PmrlN2rgiQiizi8ixRFwMwUmkQpn0xhVEcT8aY6mOmZ5kwIMQTIoTYwvehONGBoxAYJIll4oGV+1eMf6BrW6Psc0fMTxevxHeFTCWr9vcd2jBu3Pau8LSSYezeNISsA9qIRgLZTIXggM6norDiW5ISyhg8tLQFXckEbCxItjdqLaJiIwZUGbdZ4Scaa9EvtCxrNxw2LyMwxCUW4J8DcFLUGiKLdiPLFOcPFTiIk5jGWbq8M9AJRAwA/vh1pGycQBFmI2fcA57kRUn4BgcxGE8em2IzIXYuCRFRh8o0Tq4QstixPsFvWJMs+cguICuUBgKwTl0hIIDxyB4GAqzINoZVEFMXkswYC4EVTrgcAiiEBxHPQRfwoGepoBOjMBlCJag6bWAqTgGsRGQlUYjqBRXRRZBrkJsLIyzDqSgCoLJUNgAwdtQmgOVEOSgNS5BsBRpaIqncRUCV4IBcyD4TgccZgr4vP7tMVPQnuiOKE5gDM5CsPK6NUZHHAextTLzKaiUvFBF5+lhu3g/oDVULPqmgrAOcwZRDIgRcAAehOCoDqdMym5QwCNQWnOchqCvDliDWtRBsBbKLqADe+wD9q8cPmnunJaT/dJ5esQu4PgEltL+qMMFFEOwD01iBMzGaNOQURbLYgR8McmAh00DrBWOQ9BHB6zFBRyFwAunOaA5Yg7qINcpMWTdzGelxUS3XcC9aJLgZr/b8t6ZCBUj4ED0gKAWI6C0TjqEXcAJSQb8HE1MAU9YAkZxAoNwEoINtgF1xLKG/8BsqSnuLyOnLpJW0yrM8eowJImj0QuWgdA2TsAhUPBBcBlrsBg/QmIErEQQu7QwhiDzbwT8GU48gnoICmIF7GG71qwy5NDCkdIhzy8d8j8UHbA0ybNlO1RDsBrKwmGKMxwKXRGBmFSZVqB8KFN4OxNhQHDKMoWPmAKm4DwE/ZAOwRW0N++u2vgGAXXEeZAGSvrJG7ML5M5pn0iX/FA1UdL/wYN9LiZgLFLwHgR5ULdKrICp+N5mmMj5wsGSPWMrx7iP5kHdbHqYTIEyuQfnIMi97QLqiGOxD3uus6rfp2ULJntbuXanQt1MPEdLfAvBIazGRpyB4GM4b33A21dzzMcpiIUP3aD+D/jXDEzBPMzGGKRA3Wq/A3MvmH7zrOrNAAAAAElFTkSuQmCC");background-size:contain;color:#4d4d4f;display:inline-block;height:1.2em;overflow:hidden;text-indent:6em;vertical-align:middle;width:5.1em}body a#logo:hover{text-decoration:underline}body .el-hgroup{font-size:0.16em;line-height:1em;margin-top:0.1em;margin-bottom:10px;text-align:center}body .el-hgroup .el-h1{color:#fff;margin:0;padding:0 0 0 5px}body .el-hgroup .el-h2{color:#333}body .el-main{position:relative}body .el-nav{display:none}body .el-ul{overflow:hidden}body .el-ul .el-li{background:transparent no-repeat;display:block;float:left;width:1.25em}body .el-ul .el-li+.el-li{margin-left:10px}body .el-ul .el-li .ribbon>div{font-size:0.13em;line-height:1em;margin-bottom:2px;padding:0 2px 1px 2px}body .el-ul .el-li .image,body .el-ul .el-li .details{overflow:hidden;vertical-align:top}body .el-ul .el-li .image{width:1em}body .el-ul .el-li .details .name{color:blue;font-size:0.12em;font-weight:bold;height:3.1em;line-height:1em;margin-top:0;overflow:hidden}body .el-ul .el-li .details .price{color:green;font-size:0.16em;font-weight:bold;line-height:1em;margin:0;text-align:right}body .el-ul .el-li .details .merchant{float:left;font-size:0.10em;line-height:1.6em;margin-bottom:0;text-align:right}body .spacing{height:10px;width:10px}body .wrapper{margin:0 auto;overflow:hidden}body.paginated .el-nav{display:block}body.paginated .el-nav>*{cursor:pointer}body.paginated .el-nav>*.disabled{cursor:default}\n',
iframe:'<iframe frameborder="0" scrolling="no" style="height:1px;width:1px;overflow:hidden;border:0"></iframe>',html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/>{{#css}} <style type="text/css">{{{css}}}</style>{{/css}}</head><body{{#theme}} class="{{theme}}"{{/theme}}><div class="wrapper"><div class="el-hgroup"> {{#title}}<div class="el-h1">{{title}}</div> {{/title}}<div class="el-h2"> {{count}} Related Products via <a href="http://www.viglink.com" target="_blank" id="logo">VigLink</a></div></div><div class="el-main"><div class="el-nav"><div class="previous"><div></div></div><div class="next"><div></div></div></div><div class="el-ul"> {{#items}} <a href="{{url}}" target="_blank" class="el-li" id="{{id}}"><div class="ribbon"><div>Related</div></div><div class="image" style="background-image: url(\'{{image}}\');\nfilter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'{{image}}\', sizingMethod=\'scale\');\n-ms-filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'{{image}}\', sizingMethod=\'scale\');"></div><div class="details"><div class="name">{{title}}</div><div class="merchant">{{merchant}}</div><div class="price">{{price}}</div></div> </a> {{/items}}</div></div></div></body></html>'},
init:function(b){a=b.$.extend(b.$,a);u=b.vglnk;f=this.initOptions(b.opts);f.key&&(h=a.platforms(f.platform),a.on("DOMReady",a.bind(function(){(this.wrapper_el=a.select("#vl-sp-"+f.key+", #vl-pw-"+f.key)[0])&&this.getProducts()},this)))},destroy:function(){this.wrapper_el.innerHTML=null},getProducts:function(){var b=h.getPostIDs();u.api("products",{u:location.href,cat:f.cat,pt:f.platform,ps:f.product_source,i:b?b.join("|"):null},{fn:a.bind(this.onProductsApi,this)})},initOptions:function(b){var e,
c={key:u.opt("key"),cat:null,platform:null,product_source:null,theme:"d4",scale:void 0,title:null};this.theme(b.style)&&(c.theme=b.style);delete b.style;e=this.theme(c.theme);delete e.handlers;return a.extend(c,e,b)},nextPage:function(){a.hasClass(a.select(".el-nav .next",this.iframe_doc)[0],"disabled")||this.showItem(this.current+this.per_page)},onProductsApi:function(b){this.products=[];b.results&&b.results.length&&a.each(b.results,a.bind(function(a){a.image&&this.products.push(a)},this));this.showItem(0)},
previousPage:function(){a.hasClass(a.select(".el-nav .previous",this.iframe_doc)[0],"disabled")||this.showItem(this.current-this.per_page)},registerHandlers:function(){var b=this.theme().handlers;"function"===a.type(b)&&b.apply(this);a.each(this.iframe_doc.links,function(b){a.cache(b,"params",{key:f.key,type:"WG"});u.link(b)})},renderChild:function(){var a=function(a){s.renderChildHTML(a);s.resizeParentToContent();s.resizeChild()},e=function(c,d,f){var q;q=Math.pow(10,2);var h=1/q;if(c>d)return f;
q=Math.floor((parseInt(d*q)+parseInt(c*q))/2)/q;a(q);1===s.per_page&&(f=q);return 1<=s.per_page?e(q+h,d,f):e(c,q-h,f)};return function(){var c=f.scale||1;a(c);1>this.per_page&&(!f.min_scale||!(c=e(f.min_scale,2*c)))?this.destroy():(a(c),this.resizeParentToWrapper(),this.setItemVisibility());this.registerHandlers()}}(),renderChildHTML:function(b){0===this.products.length?a.css(this.iframe_el,{display:"none"}):(a.css(this.iframe_el,{display:null}),b=n.to_html(this.TEMPLATES.css,{scale:100*b}),b=n.to_html(this.TEMPLATES.html,
{count:this.products.length,css:b,items:this.products.slice(this.current),theme:f.theme,title:f.title}),this.iframe_doc.open(),this.iframe_doc.write(b),this.iframe_doc.close())},renderParent:function(){this.iframe_el||(a.css(this.wrapper_el,{lineHeight:0}),this.wrapper_el.innerHTML=n.to_html(this.TEMPLATES.iframe),this.iframe_el=a.select("iframe",this.wrapper_el)[0],this.iframe_doc=this.iframe_el.contentDocument?this.iframe_el.contentDocument:this.iframe_el.contentWindow.document||this.iframe_el.document)},
resizeChild:function(){var b,e=function(a){return Math.floor((n.w+f.w+(a||0))/(h.w+f.w))};b=a.bind(function(){var b,c=a.createEl("div",{className:"spacing"});this.iframe_doc.body.appendChild(c);b={h:a.styleSum(c,"height"),w:a.styleSum(c,"width")};this.iframe_doc.body.removeChild(c);return b},this);var c=a.select(".el-ul",this.iframe_doc)[0],d=c.children,f=b(),h={bh:a.styleSum(d[0],"borderTopWidth","borderBottomWidth"),bw:a.styleSum(d[0],"borderLeftWidth","borderRightWidth"),h:a.outerHeight(d[0]),
w:a.outerWidth(d[0])},n={h:a.outerHeight(this.wrapper_el),w:a.outerWidth(this.wrapper_el)-f.w};a.each(d,function(b){a.css(b,{height:h.h-h.bh+"px",width:h.w-h.bw+"px"})});a.css(c,{marginRight:null});a.removeClass(this.iframe_doc.body,"paginated");this.per_page=e();this.per_page>=this.products.length?this.per_page=this.products.length:(a.addClass(this.iframe_doc.body,"paginated"),b=a.styleSum(c,"marginLeft","marginRight"),this.per_page=e(-1*b),a.each(a.select(".el-nav .previous, .el-nav .next",this.iframe_doc),
function(b){a.removeClass(b,"disabled")}),0===this.current&&a.addClass(a.select(".el-nav .previous",this.iframe_doc)[0],"disabled"),this.current+this.per_page>=this.products.length&&a.addClass(a.select(".el-nav .next",this.iframe_doc)[0],"disabled"));b=a.styleSum(c,"marginRight")-f.w;a.css(c,{height:h.h+"px",marginRight:b+"px",width:(h.w+f.w)*this.per_page+"px"});a.css(a.select(".wrapper",this.iframe_doc)[0],{width:a.outerWidth(c)+"px"})},resizeParent:function(b){var e,c=this.iframe_doc?a.outerHeight(a.select("body > .wrapper",
this.iframe_doc)[0]):0,d=a.outerWidth(this.wrapper_el.parentNode);e=a.styles(this.wrapper_el,"borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth");d-=(parseInt(e.borderLeftWidth,10)||0)+(parseInt(e.borderRightWidth,10)||0);c-=(parseInt(e.borderTopWidth,10)||0)+(parseInt(e.borderBottomWidth,10)||0);e={border:0,overflow:"hidden",width:d+"px",height:c+"px"};!0===b?delete e.height:!1===b&&delete e.width;a.css(this.wrapper_el,e);a.css(this.iframe_el,e)},resizeParentToContent:function(){this.resizeParent(!0)},
resizeParentToWrapper:function(){this.resizeParent(!1)},setItemVisibility:function(){var b,e=a.select(".el-ul",this.iframe_doc)[0].children;a.each(e,a.bind(function(c){var d=a.position(c,this.iframe_doc).y;b=b||d;a.css(c,{display:d===b?"":"none"})},this))},showItem:function(a){a=Math.min(a,this.products.length-1);a=Math.max(0,a);this.current!==a&&(this.current=a,this.renderParent(),this.renderChild())},theme:function(b){!b&&f&&(b=f.theme);return{d4:function(){return{count:12,min_scale:0.75,handlers:function(){a.on(a.select(".el-nav .previous",
this.iframe_doc)[0],"click",a.bind(function(){this.previousPage()},this));a.on(a.select(".el-nav .next",this.iframe_doc)[0],"click",a.bind(function(){this.nextPage()},this))}}}()}[b]}};window.vglnk&&window.vglnk.spotlight_plugin&&s.init(window.vglnk.spotlight_plugin.exports)})();
